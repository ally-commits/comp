(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{40:function(e,t,n){e.exports=n(77)},73:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(34),r=n.n(c),i=n(23),l=n.n(i),o=n(6),u=n(7),p=n(9),h=n(8),v=n(10),m=n(35),b=n(13),d=n(81),E=n(78),f=n(25),y=(n(79),n(15)),g=n.n(y),O=n(14),_=n(38),k=n(17),j={subscribed:!1,token:"",types:["IT_MANAGER","CODING","GAMING","ICE_BREAKER","WEB_DESIGN","TEMPLE_RUN","VLOG","PAPER_PRESENTATION"],subscribed_types:[]},S={data:null},N=Object(O.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(k.a)({},e,{subscribed:!0,token:t.payload});case"SET_TYPES":return Object(k.a)({},e,{subscribed_types:t.payload});default:return e}},eventDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EVENT_DETAIL":return Object(k.a)({},e,{data:t.payload});default:return e}}}),T=[_.a],w=Object(O.e)(N,{},Object(O.d)(O.a.apply(void 0,T),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__({}):function(e){return e})),C=(n(73),""),I=function(e){return{type:"SET_TYPES",payload:e}},D=function(e){return{type:"SET_TOKEN",payload:e}},R=function(e){return{type:"SET_EVENT_DETAIL",payload:e}},x=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={value:""},e}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;console.log("entered"),g.a.get("/super").then(function(t){return e.setState({value:t.data.value})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"landing"),s.a.createElement("h1",null,this.state.value))}}]),t}(a.Component),M=n(11),P=n(75),W=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={subscribed:!1},e.showPermission=e.showPermission.bind(Object(M.a)(Object(M.a)(e))),e}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.setState({user:this.props.user}),this.props.user.subscribed&&this.props.history.push("/events")}},{key:"showPermission",value:function(e){var t=this;ne.usePublicVapidKey("BMRMW2uN6M8ZR7WdFHl-N-3u7IU-X2t-ZvgFuDiMC6DrpD2eaL0TQyg6hGiTg9TWuMVGBViFcahKuISZ2ZjHRUU"),ne.requestPermission().then(function(){return t.setState({subscribed:!0}),ne.getToken().then(function(e){e&&(t.props.setToken(e),localStorage.setItem("token",JSON.stringify(e)),t.props.history.push("/events"))}).catch(function(e){return console.log(e)})}).catch(function(e){console.log("your wont get any notification")})}},{key:"nothing",value:function(e){console.log("done..")}},{key:"render",value:function(){var e=!0===this.state.subscribed?this.nothing:this.showPermission;return s.a.createElement("div",null,s.a.createElement("div",{className:"starter_main_content"},s.a.createElement("h1",{className:"starter_main_head"},"Welcome to our site?"),s.a.createElement("h3",{className:"starter_main_p"},"Subscribe to get notification"),s.a.createElement("button",{className:"starter_subscribe_btn btn",onClick:e},"Subscribe"),s.a.createElement(P.a,{to:"/eventDetail",exact:"true"},"Link here")))}}]),t}(a.Component),A={setToken:D},B=Object(b.b)(function(e){return{user:e.user}},A)(W),L=n(2),U=n.n(L),V=function(e){var t=e.value,n=e.onChange;return s.a.createElement("li",{className:"ls_li",key:t},s.a.createElement("span",{className:"ls_icon"}),s.a.createElement("p",{className:"ls_head"},t),s.a.createElement("label",{className:"switch"},s.a.createElement("input",{type:"checkbox",name:t,id:t,onChange:n}),s.a.createElement("span",{className:"slider round"})))},G=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={types:[],subscribed_types:[]},e.onChangeEvent=e.onChangeEvent.bind(Object(M.a)(Object(M.a)(e))),e}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.user.subscribed||this.props.history.push("/"),this.setState({types:this.props.user.types}),this.setState({subscribed_types:this.props.user.subscribed_types}),setTimeout(function(){0!==e.state.subscribed_types.length&&e.state.subscribed_types.map(function(e){return document.getElementById(e).checked=!0,0})},100)}},{key:"componentWillReceiveProps",value:function(e){this.setState({subscribed_types:e.user.subscribed_types})}},{key:"onChangeEvent",value:function(e){var t=this.props.user.token,n=e.target.name,a=this.state.subscribed_types;e.target.checked?(a.push(n),this.setState({subscribed_types:a}),this.props.setTypes(a),localStorage.setItem("subscribed",a),console.log("SUBSCRIBE: "+n),g.a.post("".concat(C,"/subscribe"),{type:n,token:t}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})):(a=a.filter(function(t){return e.target.name!==t}),this.setState({subscribed_types:a}),this.props.setTypes(a),localStorage.setItem("subscribed",a),console.log("UNSUBSCRIBE: "+n),g.a.post("".concat(C,"/subscribe"),{type:n,token:t}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this,t=0!==this.state.types.length?this.state.types.map(function(t){return s.a.createElement(V,{value:t,onChange:e.onChangeEvent,key:t})}):s.a.createElement("h1",null,"Loading");return s.a.createElement("div",null,s.a.createElement("ul",{className:"ls_main_ul"},t),s.a.createElement("div",{className:"flex"}))}}]),t}(a.Component);G.propType={user:U.a.object.isRequired,setTypes:U.a.func.isRequired};var K={setTypes:I},q=Object(b.b)(function(e){return{user:e.user}},K)(G),X=function(e){var t=e.value.map(function(e){return s.a.createElement("li",{className:"ls_li",key:"".concat(e)},e)});return s.a.createElement("div",null,t)},F=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={val:0,jsx:""},e.onSwitch=e.onSwitch.bind(Object(M.a)(Object(M.a)(e))),e}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.value.length;setInterval(function(){var n=e.state.val+1;n>=t&&(n=0),e.setState({val:n})},3e3);var n=-1,a=this.props.value.map(function(t){return n+=1,s.a.createElement("div",{className:"switch_content",id:n,onClick:e.onSwitch,key:n},s.a.createElement("div",{className:"switch_list",id:n,onClick:e.onSwitch}))});this.setState({jsx:a})}},{key:"onSwitch",value:function(e){var t=e.target.id;(t=parseInt(t))>=0&&t<this.props.value.length&&this.setState({val:t})}},{key:"render",value:function(){return s.a.createElement("div",null,this.props.value[this.state.val],s.a.createElement("div",{className:"switch_main"},this.state.jsx))}}]),t}(a.Component);F.proptypes={value:U.a.array.isrequired};var J=F,Z=function(e){var t=e.value.map(function(e){return s.a.createElement("div",null,s.a.createElement("h1",null,e.title),s.a.createElement("h2",null,e.desc),s.a.createElement(X,{value:e.people}))});return s.a.createElement("div",null,s.a.createElement(J,{value:t}))};Z.proptype={value:U.a.array.isRequired};var z=Z,H=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(p.a)(this,Object(h.a)(t).call(this))).state={events:null},e}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.setState({events:this.props.eventDetail.data})}},{key:"componentWillReceiveProps",value:function(e){e&&this.setState({events:e.eventDetail.data})}},{key:"render",value:function(){var e=this.state.events,t=null!==this.state.events?s.a.createElement("div",null,s.a.createElement(z,{value:e})):s.a.createElement("div",null,s.a.createElement("h1",null,"Loading"));return s.a.createElement("div",null,s.a.createElement("h1",null,"Event Details"),t)}}]),t}(a.Component),Q=Object(b.b)(function(e){return{eventDetail:e.eventDetail}})(H),Y=n(80);function $(){return s.a.createElement("div",{className:"link_list"},s.a.createElement(Y.a,{exact:!0,className:"link",activeClassName:"link_active",to:"/events"},"Events"),s.a.createElement(Y.a,{exact:!0,className:"link",activeClassName:"link_active",to:"/"},"home"),s.a.createElement(Y.a,{exact:!0,className:"link",activeClassName:"link_active",to:"/eventDetail"},"EVENT deatails"))}if(localStorage.subscribed){var ee=localStorage.subscribed;ee=ee.split(","),w.dispatch(I(ee))}if(localStorage.token){var te=localStorage.token;te=JSON.parse(te),w.dispatch(D(te))}f.initializeApp({apiKey:"AIzaSyAF36tTPv2e3s44oebncjDv5gtwcQhv09o",authDomain:"lacker-89773.firebaseapp.com",databaseURL:"https://lacker-89773.firebaseio.com",projectId:"lacker-89773",storageBucket:"lacker-89773.appspot.com",messagingSenderId:"984496280842"});var ne=f.messaging();function ae(){return(ae=Object(m.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(C,"/eventupdates")).then(function(e){w.dispatch(R(e.data.value))}).catch(function(e){return console.log(e)});case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}!function(){ae.apply(this,arguments)}(),ne.onMessage(function(e){window.location.reload(),console.log("Message received. ",e),console.log("<h1>Messaage recived referesh and close tab to get notiy </h1>")});var se=function(e){function t(){return Object(o.a)(this,t),Object(p.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(b.a,{store:w},s.a.createElement("div",null,s.a.createElement(d.a,null,s.a.createElement("div",null,s.a.createElement($,null),s.a.createElement(E.a,{exact:!0,path:"/",component:B}),s.a.createElement(E.a,{exact:!0,path:"/load",component:x}),s.a.createElement(E.a,{exact:!0,path:"/events",component:q}),s.a.createElement(E.a,{exact:!0,path:"/eventDetail",component:Q})))))}}]),t}(a.Component);r.a.render(s.a.createElement(se,null),document.getElementById("root"))}},[[40,2,1]]]);
//# sourceMappingURL=main.0a4db942.chunk.js.map