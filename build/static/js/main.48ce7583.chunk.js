(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a.p+"static/media/bell.e264a06b.svg"},43:function(e,t,a){e.exports=a(85)},76:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(37),r=a.n(i),c=a(17),l=a.n(c),o=a(5),u=a(6),h=a(8),d=a(7),m=a(9),p=a(19),v=a(11),b=a(88),g=a(89),E=a(90),f=a(29),y=(a(86),a(13)),k=a.n(y),S=a(4),O=a.n(S),j=a(18),D=a(40),N=a(23),_={subscribed:!1,token:"",types:["IT_MANAGER","CODING","GAMING","ICE_BREAKER","WEB_DESIGNING","TREASURE_HUNT","VLOG","TECH_TALK","MEME","VIDEO_EDITING","MAD_AD","IT_QUIZ","ICE_BREAKER"],subscribed_types:[]},C={data:[],types:["IT_MANAGER","CODING","GAMING","ICE_BREAKER","WEB_DESIGNING","TREASURE_HUNT","VLOG","TECH_TALK","MEME","VIDEO_EDITING","MAD_AD","IT_QUIZ"]},w=Object(j.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TOKEN":return Object(N.a)({},e,{subscribed:!0,token:t.payload});case"SET_TYPES":return Object(N.a)({},e,{subscribed_types:t.payload});default:return e}},eventDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_EVENT_DETAIL":return Object(N.a)({},e,{data:t.payload});default:return e}}}),R=[D.a],T=Object(j.e)(w,{},Object(j.d)(j.a.apply(void 0,R),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__({}):function(e){return e})),I=(a(76),"http://localhost:4000/zxcvbnm"),x=function(e){return{type:"SET_TYPES",payload:e}},A=function(e){return{type:"SET_TOKEN",payload:e}},M=function(e){return{type:"SET_EVENT_DETAIL",payload:e}},B=(a(78),a(80),function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"flex-center-group"},s.a.createElement("h1",null,"404 Page Not Found")))}),W=a(2);var G=function(){return s.a.createElement("div",{className:"loading-group"},s.a.createElement("div",{className:"loading-content"},s.a.createElement("div",{className:"sk-cube-grid"},s.a.createElement("div",{className:"sk-cube sk-cube1"}),s.a.createElement("div",{className:"sk-cube sk-cube2"}),s.a.createElement("div",{className:"sk-cube sk-cube3"}),s.a.createElement("div",{className:"sk-cube sk-cube4"}),s.a.createElement("div",{className:"sk-cube sk-cube5"}),s.a.createElement("div",{className:"sk-cube sk-cube6"}),s.a.createElement("div",{className:"sk-cube sk-cube7"}),s.a.createElement("div",{className:"sk-cube sk-cube8"}),s.a.createElement("div",{className:"sk-cube sk-cube9"}))),s.a.createElement("div",{className:"loading-blur"}))},P=a(41),V=a.n(P),U=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={subscribed:!1,loading:!1},e.showPermission=e.showPermission.bind(Object(W.a)(Object(W.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.setState({user:this.props.user}),this.props.user.subscribed&&this.props.history.push("/events")}},{key:"showPermission",value:function(e){var t=this;this.setState({loading:!0}),ye.usePublicVapidKey("BMRMW2uN6M8ZR7WdFHl-N-3u7IU-X2t-ZvgFuDiMC6DrpD2eaL0TQyg6hGiTg9TWuMVGBViFcahKuISZ2ZjHRUU"),ye.requestPermission().then(function(){return ye.getToken().then(function(e){e?(t.setState({subscribed:!0}),t.setState({loading:!1}),t.props.setToken(e),localStorage.setItem("token",JSON.stringify(e)),t.state.loading||t.props.history.push("/subscribe")):t.setState({loading:!1})}).catch(function(e){t.setState({loading:!1}),O.a.error({title:"Error:",message:"Some network issue didnt get your token Retry"})})}).catch(function(e){t.setState({loading:!1}),O.a.error({title:"Error:",message:"Some network issue didnt get your token Retry"})})}},{key:"nothing",value:function(e){O.a.error({title:"Error",message:"You didn't gave permission to push message"})}},{key:"render",value:function(){var e=!0===this.state.subscribed?this.nothing:this.showPermission;return s.a.createElement("div",null,this.state.loading&&s.a.createElement(G,null),s.a.createElement("div",{className:"starter_container"},s.a.createElement("h1",{className:"starter_head"},"Welcome to Composite updates?"),s.a.createElement("h3",{className:"starter_p"},"Subscribe to get notification"),s.a.createElement("div",{className:"content_button btn",onClick:e},s.a.createElement("img",{alt:"bell",src:V.a,className:"img_bell"}),s.a.createElement("h1",{className:"head_button"},"Subscribe"))))}}]),t}(n.Component),L={setToken:A},q=Object(v.b)(function(e){return{user:e.user}},L)(U),K=a(3),F=a.n(K),z=function(e){var t=e.value,a=e.onChange;return s.a.createElement("li",{className:"list_item",key:t},s.a.createElement("span",{className:"list_item_icon"}),s.a.createElement("p",{className:"list_item_head"},t),s.a.createElement("div",{className:"wrap"},s.a.createElement("input",{type:"checkbox",name:t,id:t,className:"input_check",onChange:a}),s.a.createElement("label",{className:"slider-v1"})))},H=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={types:[],subscribed_types:[],loading:!1},e.onChangeEvent=e.onChangeEvent.bind(Object(W.a)(Object(W.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=Object(p.a)(l.a.mark(function e(){var t=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.user.subscribed||this.props.history.push("/"),e.next=3,this.setState({types:this.props.user.types,subscribed_types:this.props.user.subscribed_types});case 3:setTimeout(function(){0!==t.state.subscribed_types.length&&t.state.subscribed_types.map(function(e){return document.getElementById(e).checked=!0,0})},100);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){this.setState({subscribed_types:e.user.subscribed_types,types:e.user.types})}},{key:"onChangeEvent",value:function(e){var t=this;e.persist();var a=this.props.user.token,n=e.target.name,s=this.state.subscribed_types;this.setState({loading:!0}),e.target.checked?k.a.post("".concat(I,"/subscribe"),{type:n,token:a}).then(function(e){s.push(n),t.setState({subscribed_types:s}),t.props.setTypes(s),localStorage.setItem("subscribed",s),t.setState({loading:!1}),O.a.success({title:"Registered",message:"Ull get notification ".concat(n)})}).catch(function(e){document.getElementById(n).checked=!1,t.setState({loading:!1}),O.a.error({title:"Error",message:"Cannot subscribe Retry"})}):k.a.post("".concat(I,"/unsubscribe"),{type:n,token:a}).then(function(a){console.log("done"),s=s.filter(function(t){return e.target.name!==t}),t.setState({subscribed_types:s}),t.props.setTypes(s),localStorage.setItem("subscribed",s),t.setState({loading:!1}),O.a.success({title:"Revoked",message:"Registration cancelled you wont\t get any notification"})}).catch(function(e){console.log(e),document.getElementById(n).checked=!0,t.setState({loading:!1}),O.a.error({title:"Error",message:"Cannot revoke Retry"})})}},{key:"render",value:function(){var e=this,t=0!==this.state.types.length?this.state.types.map(function(t){return s.a.createElement(z,{value:t,onChange:e.onChangeEvent,key:t})}):s.a.createElement("h1",null,"Loading");return s.a.createElement("div",null,this.state.loading&&s.a.createElement(G,null),s.a.createElement("ul",{className:"list_items"},t))}}]),t}(n.Component);H.propType={user:F.a.object.isRequired,setTypes:F.a.func.isRequired};var Z={setTypes:x},X=Object(v.b)(function(e){return{user:e.user}},Z)(H),Y=function(e){var t=e.value.map(function(e){if(e.status)return s.a.createElement("li",{className:"ls_li",key:"".concat(e.name)},e.name)});return s.a.createElement("div",null,t)},J=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={val:0,jsx:""},e.onSwitch=e.onSwitch.bind(Object(W.a)(Object(W.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props.value.length;setInterval(function(){var a=e.state.val+1;a>=t&&(a=0),e.setState({val:a})},3e3);var a=-1,n=this.props.value.map(function(t){return a+=1,s.a.createElement("div",{className:"switch_content",id:a,onClick:e.onSwitch,key:a},s.a.createElement("div",{className:"switch_list",id:a,onClick:e.onSwitch}))});this.setState({jsx:n})}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e){var a=-1,n=e.value.map(function(e){return a+=1,s.a.createElement("div",{className:"switch_content",id:a,onClick:t.onSwitch,key:a},s.a.createElement("div",{className:"switch_list",id:a,onClick:t.onSwitch}))});this.setState({jsx:n})}}},{key:"onSwitch",value:function(e){var t=e.target.id;(t=parseInt(t))>=0&&t<this.props.value.length&&this.setState({val:t})}},{key:"render",value:function(){return s.a.createElement("div",null,this.props.value[this.state.val],s.a.createElement("div",{className:"switch_main"},this.state.jsx))}}]),t}(n.Component);J.proptypes={value:F.a.array.isrequired};var Q=J,$=function(e){var t=e.value.map(function(e){return s.a.createElement("div",null,s.a.createElement("h1",null,e.title),s.a.createElement("h2",null,e.desc),s.a.createElement(Y,{value:e.people}))});return s.a.createElement("div",null,s.a.createElement(Q,{value:t}))};$.proptype={value:F.a.array.isRequired};var ee=$,te=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={events:null,loading:!1},e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.setState({events:this.props.eventDetail.data}),null===this.state.events?this.setState({loading:!0}):this.setState({loading:!1})}},{key:"componentWillReceiveProps",value:function(e){e&&this.setState({events:e.eventDetail.data}),null===this.state.events?this.setState({loading:!0}):this.setState({loading:!1})}},{key:"render",value:function(){var e=this.state.events,t=null!==this.state.events?s.a.createElement("div",null,s.a.createElement(ee,{value:e})):s.a.createElement("div",null,s.a.createElement(G,null));return s.a.createElement("div",null,this.state.loading&&s.a.createElement(G,null),s.a.createElement("h1",null,"Event Details"),t)}}]),t}(n.Component),ae=Object(v.b)(function(e){return{eventDetail:e.eventDetail}})(te),ne=a(20),se=a(16),ie=a.n(se),re=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={username:"",password:""},e.onChange=e.onChange.bind(Object(W.a)(Object(W.a)(e))),e.onSubmit=e.onSubmit.bind(Object(W.a)(Object(W.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.admin&&localStorage.auth){var e=ie()(localStorage.auth),t=Date.now()/1e3;e.exp>=t&&this.props.history.push("/admin/dashboard")}}},{key:"onChange",value:function(e){this.setState(Object(ne.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),""===this.state.username||""===this.state.password?O.a.info({title:"Error",message:"Fileds are empty"}):k.a.post("".concat(I,"/admin/login"),{username:this.state.username,password:this.state.password}).then(function(e){if(localStorage.admin){var a=localStorage.admin;a=(a=(a=a.split(".")).filter(function(e){return""!==e}))[0],e.data.success&&e.data.auth===a&&(localStorage.setItem("auth",e.data.token),O.a.success({title:"LOGGED IN",message:"idoit start to edit now"}),t.props.history.push("/admin/dashboard"))}else O.a.error({title:"SOORY!!",message:"Sry buddy your not Authorised to access!.......Ask admin about this error"}),t.props.history.push("/")}).catch(function(e){if(e){var t=e.response.data.data||"Server Error:";O.a.warning({title:"ERROR",message:t})}else O.a.warning({title:"SERVER",message:"Check the server"})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"form-container"},s.a.createElement("div",{className:"form-content"},s.a.createElement("h1",{className:"form-head"},"Admin Login"),s.a.createElement("form",{onSubmit:this.onSubmit,className:"form-data"},s.a.createElement("input",{name:"username",type:"text",placeholder:"Username",value:this.state.username,onChange:this.onChange,className:"input"}),s.a.createElement("input",{name:"password",type:"password",placeholder:"Password",value:this.state.password,onChange:this.onChange,className:"input"}),s.a.createElement("input",{type:"submit",value:"submit",className:"form-submit btn"}))))}}]),t}(n.Component),ce=function(e){var t=e.types,a=e.changeCurrent;return t.map(function(e){return s.a.createElement("div",{className:"active-sub-grp",key:Math.random()},s.a.createElement("button",{className:"active-btn",onClick:a,name:e.title,key:Math.random()},e.title),s.a.createElement("span",{className:"active-icon"},"  "))})};ce.porpTypes={types:F.a.array.ieRequired,click:F.a.func.isRequired};var le=ce,oe=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={current:"",eventDetail:{data:null}},e._redirect=e._redirect.bind(Object(W.a)(Object(W.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.admin&&localStorage.auth){var e=ie()(localStorage.auth),t=Date.now()/1e3;e.exp<t?this.props.history.push("/admin/login"):this.setState({eventDetail:this.props.eventDetail})}else this.props.history.push("/admin/login")}},{key:"componentWillReceiveProps",value:function(e){e&&this.setState({eventDetail:e.eventDetail})}},{key:"_redirect",value:function(e){"view"===e.target.id?this.props.history.push("/admin/dashboard/view-event"):"create"===e.target.id?this.props.history.push("/admin/dashboard/create-event"):"update"===e.target.id?this.props.history.push("/admin/dashboard/update-event"):"delete"===e.target.id?this.props.history.push("/admin/dashboard/delete-event"):this.porps.hisory.push("/admin/dashboard")}},{key:"render",value:function(){return s.a.createElement("div",{className:"admin-container"},s.a.createElement("div",{className:"active-grp"},s.a.createElement("h1",{className:"active-head"},"Events Active"),this.state.eventDetail.data?s.a.createElement(le,{types:this.state.eventDetail.data,changeCurrent:this.changeCurrent}):s.a.createElement("h1",null,"Loading")),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{className:"btn btn-control",onClick:this._redirect,id:"view"},"View"),s.a.createElement("button",{className:"btn btn-control",onClick:this._redirect,id:"create"},"Create"),s.a.createElement("button",{className:"btn btn-control",onClick:this._redirect,id:"update"},"Update"),s.a.createElement("button",{className:"btn btn-control",onClick:this._redirect,id:"delete"},"Delete")))}}]),t}(n.Component),ue=Object(v.b)(function(e){return{eventDetail:e.eventDetail}})(oe),he=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={current:!1,filter:!0},e._goBack=e._goBack.bind(Object(W.a)(Object(W.a)(e))),e._changeStatus=e._changeStatus.bind(Object(W.a)(Object(W.a)(e))),e._onChange=e._onChange.bind(Object(W.a)(Object(W.a)(e))),e._changeCurrent=e._changeCurrent.bind(Object(W.a)(Object(W.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.admin&&localStorage.auth){var e=ie()(localStorage.auth),t=Date.now()/1e3;e.exp<t?this.props.history.push("/admin/login"):this.setState({eventDetail:this.props.eventDetail})}else this.props.history.push("/admin/login");if(0!==this.props.eventDetail.data.length){var a=this.props.eventDetail;this.setState({current:a.data[0].title,currentDetail:a.data[0],round:a.data[0].round})}}},{key:"_changeCurrent",value:function(e){this.setState({current:e.target.value});var t=this.state.eventDetail.data.filter(function(t){return t.title===e.target.value});this.setState({currentDetail:t[0]})}},{key:"_changeStatus",value:function(e){"true"===e.target.value?this.setState({filter:!0}):this.setState({filter:!1})}},{key:"componentWillReceiveProps",value:function(e){if(e&&this.setState({eventDetail:e.eventDetail}),0!==e.eventDetail.data.length){var t=e.eventDetail;this.setState({current:t.data[0].title,currentDetail:t.data[0],round:t.data[0].round})}}},{key:"_onChange",value:function(e){this.setState({current:e.target.value})}},{key:"_goBack",value:function(e){this.props.history.push("/admin/dashboard")}},{key:"render",value:function(){var e="";this.state.eventDetail.data&&(e=this.state.eventDetail.data.map(function(e){return s.a.createElement("option",{key:Math.random(),value:e.title},e.title," ")}));var t="";return this.state.currentDetail&&(t=this.state.filter?this.state.currentDetail.people.map(function(e){if(e.status)return s.a.createElement("div",{className:"flex-h"},s.a.createElement("h1",null,e.name)," ",s.a.createElement("h2",null,e.round))}):this.state.currentDetail.people.map(function(e){return s.a.createElement("div",{className:"flex-h"},s.a.createElement("h1",null,e.name)," ",s.a.createElement("h2",null,e.round))})),console.log(t),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-back",onClick:this._goBack},"Back"),s.a.createElement("div",{className:"alone-select border-bottom"},s.a.createElement("select",{className:"input",onChange:this._changeCurrent,value:this.state.current},e),s.a.createElement("select",{onChange:this._changeStatus,value:this.state.filter},s.a.createElement("option",{value:"false"},"All"),s.a.createElement("option",{value:"true"},"Only selected"))),s.a.createElement("div",null,t))}}]),t}(n.Component);he.proptypes={eventDetail:F.a.object.isRequired};var de=Object(v.b)(function(e){return{eventDetail:e.eventDetail}})(he),me=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={title:"",desc:"",people:[],value:""},e.onChange=e.onChange.bind(Object(W.a)(Object(W.a)(e))),e.onSubmit=e.onSubmit.bind(Object(W.a)(Object(W.a)(e))),e.onChangeArray=e.onChangeArray.bind(Object(W.a)(Object(W.a)(e))),e.removeChild=e.removeChild.bind(Object(W.a)(Object(W.a)(e))),e._goBack=e._goBack.bind(Object(W.a)(Object(W.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.admin&&localStorage.auth){var e=ie()(localStorage.auth),t=Date.now()/1e3;e.exp<t&&this.props.history.push("/admin/login")}else this.props.history.push("/admin/login")}},{key:"onChange",value:function(e){this.setState(Object(ne.a)({},e.target.name,e.target.value))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),""===this.state.title||""===this.state.desc?O.a.error({title:"Error",message:"Fields are empty"}):k.a.post("".concat(I,"/admin/create"),{title:this.state.title,desc:this.state.desc,people:this.state.people,round:1},{headers:{Authorization:localStorage.auth}}).then(function(e){O.a.success({title:"Saved",message:e.data.success}),t.setState({title:"",desc:"",people:[],value:""}),ke()}).catch(function(e){return O.a.error({title:"Error",message:e.response.data})})}},{key:"onChangeArray",value:function(e){e.preventDefault();var t=this.state.value;if(""===t)O.a.error({title:"Empty Field",message:"Peope field is empty"});else{var a=this.state.people;a.push(t),this.setState({people:a,value:""})}}},{key:"removeChild",value:function(e){var t=this.state.people;t=t.filter(function(t){return t!==e.target.id}),this.setState({people:t})}},{key:"_goBack",value:function(e){this.props.history.push("/admin/dashboard")}},{key:"render",value:function(){var e=this,t=this.state.people.map(function(t){return s.a.createElement("div",{className:"input-grp flex-h",key:Math.random()},s.a.createElement("li",{className:"input input-one align-center",key:Math.random()},t),s.a.createElement("button",{id:t,className:"btn btn-two",key:Math.random(),onClick:e.removeChild},"Del"))}),a="".concat(this.state.title),n="".concat(this.state.desc);return s.a.createElement("div",{className:"add-container"},s.a.createElement("button",{className:"btn-back btn",onClick:this._goBack},"Back"),s.a.createElement("div",{className:"add-content-1"},s.a.createElement("h1",{className:"add-content-1-head"},"Add Event"),s.a.createElement("form",{onSubmit:this.onSubmit,className:"add-form"},s.a.createElement("input",{type:"text",name:"title",value:this.state.title,className:"input input-edit",onChange:this.onChange,placeholder:"Title"}),s.a.createElement("input",{type:"text",name:"desc",value:this.state.desc,className:"input input-edit",onChange:this.onChange,placeholder:"Description"}),s.a.createElement("div",{className:"input-grp"},s.a.createElement("input",{type:"text",name:"value",value:this.state.value,className:"input input-one",onChange:this.onChange,placeholder:"Add value to array"}),s.a.createElement("button",{className:"btn btn-two",onClick:this.onChangeArray},"Add")),s.a.createElement("input",{type:"submit",vlaue:"submit",className:"btn btn-add-submit"}))),s.a.createElement("div",{className:"add-content-2"},s.a.createElement("h1",{className:"add-content-1-head"},"Event Detail"),s.a.createElement("div",{className:"add-content-2-head"},s.a.createElement("span",{className:"sub-title"},"Title"),s.a.createElement("span",{className:"sub-content"},a)),s.a.createElement("div",{className:"add-content-2-head-2"},s.a.createElement("span",{className:"sub-title"},"Description"),s.a.createElement("span",{className:"sub-content"},n)),s.a.createElement("ul",{className:"people-list"},t)))}}]),t}(n.Component),pe=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={current:"",eventDetail:null,currentDetail:void 0,round:"",value:{name:""}},e.changeCurrent=e.changeCurrent.bind(Object(W.a)(Object(W.a)(e))),e.changeCurrentDetail=e.changeCurrentDetail.bind(Object(W.a)(Object(W.a)(e))),e._removeChild=e._removeChild.bind(Object(W.a)(Object(W.a)(e))),e._changeRound=e._changeRound.bind(Object(W.a)(Object(W.a)(e))),e._clearInput=e._clearInput.bind(Object(W.a)(Object(W.a)(e))),e._addChild=e._addChild.bind(Object(W.a)(Object(W.a)(e))),e.addValue=e.addValue.bind(Object(W.a)(Object(W.a)(e))),e._onSubmit=e._onSubmit.bind(Object(W.a)(Object(W.a)(e))),e._goBack=e._goBack.bind(Object(W.a)(Object(W.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.admin&&localStorage.auth){var e=ie()(localStorage.auth),t=Date.now()/1e3;e.exp<t?this.props.history.push("/admin/login"):this.setState({eventDetail:this.props.eventDetail})}else this.props.history.push("/admin/login");if(0!==this.props.eventDetail.data.length){var a=this.props.eventDetail;this.setState({current:a.data[0].title,currentDetail:a.data[0],round:a.data[0].round})}}},{key:"componentWillReceiveProps",value:function(e){if(e&&this.setState({eventDetail:e.eventDetail}),0!==e.eventDetail.data.length){var t=e.eventDetail;console.log(t),this.setState({current:t.data[0].title,currentDetail:t.data[0],round:t.data[0].round})}}},{key:"changeCurrent",value:function(e){this.setState({current:e.target.value});var t=this.state.eventDetail.data.filter(function(t){return t.title===e.target.value});this.setState({currentDetail:t[0]})}},{key:"changeCurrentDetail",value:function(e){var t=this.state.currentDetail;t[e.target.name]=e.target.value,this.setState({currentDetail:t})}},{key:"addValue",value:function(e){var t=this.state.value;t.name=e.target.value,t.name=e.target.value,this.setState({value:t})}},{key:"_removeChild",value:function(e){var t=this.state.currentDetail;t.people=this.state.currentDetail.people.filter(function(t){return t.name===e.target.id?(t.status=!1,t):t}),this.setState({currentDetail:t})}},{key:"_addChild",value:function(e){var t=this.state.currentDetail;if(""===this.state.value.name)O.a.error({title:"Empty",message:"List field is empty"});else{var a=this.state.value;a.status=!0,a.round=this.state.round,this.setState({value:a}),t.people.push(this.state.value),this.setState({currentDetail:t}),this._clearInput()}}},{key:"_clearInput",value:function(){this.setState({value:{name:"",status:!1}})}},{key:"_onSubmit",value:function(){var e=Object(p.a)(l.a.mark(function e(t){var a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=this.state.currentDetail).people=a.people.filter(function(e){return!0===e.status?e.round=a.round:e}),e.next=5,this.setState({currentDetail:a});case 5:k.a.post("".concat(I,"/admin/update"),this.state.currentDetail,{headers:{Authorization:localStorage.auth}}).then(function(e){O.a.success({title:"DONE!.",message:e.data.data})}).catch(function(e){O.a.error({title:"Error!",message:e.response.data})});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_goBack",value:function(e){this.props.history.push("/admin/dashboard")}},{key:"_changeRound",value:function(e){if(""!==e.target.value){var t=this.state.currentDetail;t.round=parseInt(t.round),t.round=parseInt(e.target.value),this.setState({currentDetail:t})}else{var a=this.state.currentDetail;a.round="",this.setState({currentDetail:a})}}},{key:"render",value:function(){var e=this,t="";this.state.eventDetail.data&&(t=this.state.eventDetail.data.map(function(e){return s.a.createElement("option",{key:Math.random(),value:e.title},e.title," ")}));var a=this.state.currentDetail?s.a.createElement("div",{className:"update-main"},s.a.createElement("div",{className:"update-one"},s.a.createElement("h1",{className:"update-head"},"Round Number"),s.a.createElement("input",{type:"number",value:this.state.currentDetail.round,name:"round",className:"input border-bottom",onChange:this._changeRound}),s.a.createElement("h1",{className:"update-head"},"Title"),s.a.createElement("input",{type:"text",value:this.state.currentDetail.title,name:"title",className:"input border-bottom",onChange:this.changeCurrentDetail}),s.a.createElement("h1",{className:"update-head"},"Description"),s.a.createElement("input",{type:"text",value:this.state.currentDetail.desc,name:"desc",className:"input border-bottom",onChange:this.changeCurrentDetail}),s.a.createElement("div",{className:"input-grp"},s.a.createElement("input",{type:"text",name:"value",value:this.state.value.name,className:"input input-one",onChange:this.addValue,placeholder:"Add value to array"}),s.a.createElement("button",{className:"btn btn-two",onClick:this._addChild,key:Math.random()},"Add")),this.state.currentDetail&&s.a.createElement("button",{className:"btn btn-add-submit",onClick:this._onSubmit},"Update")),s.a.createElement("div",{className:"input_list"},this.state.currentDetail.people.map(function(t){return t.status?s.a.createElement("div",{className:"input-grp flex-h",key:Math.random()},s.a.createElement("li",{className:"input input-one align-center",key:Math.random()},t.name),s.a.createElement("button",{className:"btn btn-two",onClick:e._removeChild,id:t.name},"Remove")):s.a.createElement("div",{key:Math.random()})}))):s.a.createElement(G,null);return s.a.createElement("div",null,s.a.createElement("button",{className:"btn-back btn",onClick:this._goBack},"Back"),s.a.createElement("div",{className:"alone-select border-bottom"},s.a.createElement("select",{className:"input border-bottom",onChange:this.changeCurrent,value:this.state.current},t)),a)}}]),t}(n.Component);pe.proptypes={eventDetail:F.a.object.isRequired};var ve=Object(v.b)(function(e){return{eventDetail:e.eventDetail}})(pe),be=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={current:""},e.onChange=e.onChange.bind(Object(W.a)(Object(W.a)(e))),e.onSubmit=e.onSubmit.bind(Object(W.a)(Object(W.a)(e))),e._goBack=e._goBack.bind(Object(W.a)(Object(W.a)(e))),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){if(localStorage.admin&&localStorage.auth){var e=ie()(localStorage.auth),t=Date.now()/1e3;e.exp<t?this.props.history.push("/admin/login"):this.setState({eventDetail:this.props.eventDetail})}else this.props.history.push("/admin/login");0!==this.props.eventDetail.data.length&&this.setState({current:this.props.eventDetail.data[0].title})}},{key:"componentWillReceiveProps",value:function(e){e&&this.setState({eventDetail:e.eventDetail}),0!==e.eventDetail.data.length&&this.setState({current:e.eventDetail.data[0].title})}},{key:"onChange",value:function(e){this.setState({current:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),k.a.post("".concat(I,"/admin/delete"),{type:this.state.current},{headers:{Authorization:localStorage.auth}}).then(function(e){O.a.success({title:"deleted",message:e.data.success}),ke()}).catch(function(e){return O.a.error({title:"error",message:e.response.data})})}},{key:"_goBack",value:function(e){this.props.history.push("/admin/dashboard")}},{key:"render",value:function(){var e="";return this.state.eventDetail.data&&(e=this.state.eventDetail.data.map(function(e){return s.a.createElement("option",{key:Math.random(),value:e.title},e.title," ")})),s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-back",onClick:this._goBack},"Back"),s.a.createElement("div",{className:"alone-select border-bottom"},s.a.createElement("select",{className:"input",onChange:this.onChange,value:this.state.current},e)),s.a.createElement("div",{className:"flex-h"},this.state.current&&s.a.createElement("button",{className:"btn btn-add-submit",onClick:this.onSubmit},"Delete")))}}]),t}(n.Component);be.proptypes={eventDetail:F.a.object.isRequired};var ge=Object(v.b)(function(e){return{eventDetail:e.eventDetail}})(be);if(localStorage.subscribed){var Ee=localStorage.subscribed;Ee=Ee.split(","),T.dispatch(x(Ee))}if(localStorage.token){var fe=localStorage.token;fe=JSON.parse(fe),T.dispatch(A(fe))}f.initializeApp({apiKey:"AIzaSyAF36tTPv2e3s44oebncjDv5gtwcQhv09o",authDomain:"lacker-89773.firebaseapp.com",databaseURL:"https://lacker-89773.firebaseio.com",projectId:"lacker-89773",storageBucket:"lacker-89773.appspot.com",messagingSenderId:"984496280842"});var ye=f.messaging();function ke(){return Se.apply(this,arguments)}function Se(){return(Se=Object(p.a)(l.a.mark(function e(){return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(I,"/eventupdates")).then(function(e){T.dispatch(M(e.data.value))}).catch(function(e){O.a.error({title:"RETRY",message:"server did'nt send any data"})});case 2:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}ke(),ye.onMessage(function(e){ke(),O.a.info({title:e.title,message:e.body})});var Oe=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(v.a,{store:T},s.a.createElement("div",null,s.a.createElement(b.a,null,s.a.createElement("div",null,s.a.createElement(g.a,null,s.a.createElement(E.a,{exact:!0,path:"/",component:q}),s.a.createElement(E.a,{exact:!0,path:"/subscribe",component:X}),s.a.createElement(E.a,{exact:!0,path:"/events",component:ae}),s.a.createElement(E.a,{exact:!0,path:"/admin/login",component:re}),s.a.createElement(E.a,{exact:!0,path:"/admin/dashboard",component:ue}),s.a.createElement(E.a,{exact:!0,path:"/admin/dashboard/view-event",component:de}),s.a.createElement(E.a,{exact:!0,path:"/admin/dashboard/delete-event",component:ge}),s.a.createElement(E.a,{exact:!0,path:"/admin/dashboard/update-event",component:ve}),s.a.createElement(E.a,{exact:!0,path:"/admin/dashboard/create-event",component:me}),s.a.createElement(E.a,{path:"*",component:B}))))))}}]),t}(n.Component);r.a.render(s.a.createElement(Oe,null),document.getElementById("root"))}},[[43,2,1]]]);
//# sourceMappingURL=main.48ce7583.chunk.js.map